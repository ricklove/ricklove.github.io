<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Love Coding - Rick Love</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I have been developing software since 2002. Now I see machine learning and technology exponentially changing our society and world.">
<meta property="og:type" content="website">
<meta property="og:title" content="Love Coding - Rick Love">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Love Coding - Rick Love">
<meta property="og:description" content="I have been developing software since 2002. Now I see machine learning and technology exponentially changing our society and world.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Love Coding - Rick Love">
<meta name="twitter:description" content="I have been developing software since 2002. Now I see machine learning and technology exponentially changing our society and world.">
  
    <link rel="alternate" href="/atom.xml" title="Love Coding - Rick Love" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Love Coding - Rick Love</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Software Development, Machine Learning, Education, &amp; the Future</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2017-04-26 Automated Blood Scanner" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/26/2017-04-26 Automated Blood Scanner/" class="article-date">
  <time datetime="2017-04-26T05:00:00.000Z" itemprop="datePublished">2017-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/26/2017-04-26 Automated Blood Scanner/">Automated Blood Scanner</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Imagine a world where any disease or illness that is visible in the blood would automatically be found and diagnosed at home during a routine preventative health self-check.</p>
<img src="/images/2017-04-26/bloodSlide_malaria.jpg" class="right" width="300" title="Blood Infected with Malaria">
<h3 id="Fast-Cheap-and-Accurate-Health-Check"><a href="#Fast-Cheap-and-Accurate-Health-Check" class="headerlink" title="Fast, Cheap, and Accurate Health Check"></a>Fast, Cheap, and Accurate Health Check</h3><p>Each week or whenever you aren’t feeling 100%, you put a drop of blood on a small device and 30 minutes later it has a full and accurate report of every abnormality in your blood.</p>
<p>This could save billions of lives. (At least those who die from treatable illnesses.)</p>
<p>That is not far off. </p>
<img src="/images/2017-04-26/bloodSlide_sickleCellAnemia.jpg" class="right" width="200" title="Blood with Sicle Cell Anemia">
<h3 id="In-fact-it-is-possible-today-but-no-one-has-done-it-yet"><a href="#In-fact-it-is-possible-today-but-no-one-has-done-it-yet" class="headerlink" title="In fact it is possible today, but no one has done it yet."></a>In fact it is possible today, but no one has done it yet.</h3><p>What makes this possible is a combination of two fields that have made huge breakthroughs recently.</p>
<ul>
<li>Machine Learning</li>
<li>Micro Robotics</li>
</ul>
<p>The first technology is called machine learning and more specifically deep learning using neural networks. This branch of Artificial Intelligence is especially useful in finding patterns in images. It is used in everything from facial recognition to self driving cars to diagnosing lung cancer.</p>
<p>But one area where this has yet to be used broadly is in blood screening. From my research, I could only find an article using this technology to diagnose malaria specifically. </p>
<p>The second technology is micro robotics. These are small electronic systems like Adruino or Rasberry Pi that can be combined with sensors and motors to create just about any robotic gadget imaginable. </p>
<p>So combining these two fields, my idea is possible today.</p>
<h3 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h3><p>First, let me explore how machine learning would be used: </p>
<p>The idea is to create a continuously learning open neural network that can diagnosis anything visible in blood. This of course would only be possible with the participation of millions of people. But by making a continuously learning system each new person providing images of blood samples and answering questions about their own status would add greatly to the system’s knowledge. </p>
<p>We know it is possible to build a deep learning network that can learn to recognize thousands of diseases automatically. This is really not that different from the task of facial recognition or other image recognition tasks. </p>
<p>However, in order for it to work accurately, it needs many samples. For each specific disease or illness, it needs at least 10 individuals who are diagnosed with that prognosis. Each individual could provide a sample of blood that could be scanned to create thousands of images. In many cases, that would be enough for the system to identify unique characteristics.  </p>
<p>Of course, even without those samples, the system could be aided with existing medical imagery from data sets that have already manually identified known patterns. That would give it a start for certain ailments. </p>
<p>However for this to be effective for general disease and illness diagnosis, this needs millions of participants providing samples. But of course, once it got to that point, it would continue to learn and improve.</p>
<h3 id="Cheap-Automated-Blood-Scanner"><a href="#Cheap-Automated-Blood-Scanner" class="headerlink" title="Cheap Automated Blood Scanner"></a>Cheap Automated Blood Scanner</h3><p>Now, in order for this system to work, it would need a way to scan the blood sample.</p>
<p>Imagine a 3D printer on a very small scale. Attach any smart phone with a spherical lens and move the blood slide under that lens while taking pictures throughout the sample at various focal lengths. </p>
<p>For a single blood sample thousands of images could be uploaded and these images would then be analyzed by the machine to look for patterns associated with thousands of ailments. </p>
<p>This device could easily be made with Adruino for less than 100 dollars today. </p>
<p>Hopefully, if it was mass produced it could be made for less than $5. </p>
<h3 id="Really-Save-Billions-of-Lives"><a href="#Really-Save-Billions-of-Lives" class="headerlink" title="Really? Save Billions of Lives?"></a>Really? Save Billions of Lives?</h3><p>So how could this possibly be available to billions of people?</p>
<p>First of all, internet is available in almost every country and it has decent speeds. Data plans may be too expensive in some areas, but a huge percentage of the world has access to broadband internet and smart phones.</p>
<p>In fact I just checked and around 2 billion people have smart phones which is more than 1/4 people in the world. That number will only continue to grow.</p>
<p>In fact, here are some related products that actually sparked my idea:</p>
<h4 id="Foldscope"><a href="#Foldscope" class="headerlink" title="Foldscope"></a>Foldscope</h4><div class="video-container"><iframe src="//www.youtube.com/embed/h8cF5QPPmWU" frameborder="0" allowfullscreen></iframe></div>
<h4 id="Paperfuge"><a href="#Paperfuge" class="headerlink" title="Paperfuge"></a>Paperfuge</h4><div class="video-container"><iframe src="//www.youtube.com/embed/L5ppD07DMKQ" frameborder="0" allowfullscreen></iframe></div>
<h4 id="The-Idea-Automated-Blood-Scanner"><a href="#The-Idea-Automated-Blood-Scanner" class="headerlink" title="The Idea: Automated Blood Scanner"></a>The Idea: Automated Blood Scanner</h4><p>So what is needed is a cheap device to go along with these that can use existing smart phones to upload blood images to the internet.</p>
<p>If the Automated Blood Scanner can be produced for under $5, it is cheap enough for even a farmer in Africa to afford. Imagine if he could have this device at his home and use his phone to check his family for early signs of malaria. Before he or his children even get sick with malaria, he can go ahead and test the problem before the parasite gets out of hand. Instead of spending a week trying to save his child’s life, he can treat his children early and everyone can work and go to school without the constant sickness that destroys all resources and progress.</p>
<p>There are many problems that destroy resources in developing countries and make it hard to afford improving living conditions. However, one of the most destructive is malaria and other sicknesses that lead to death and beyond all the pain and suffering also destroy all the family’s time and resources that they have been working hard to gain over the past years.</p>
<h3 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h3><p>Well one clear way is to initially focus on a specific ailment like malaria. If the system could be built that can diagnose malaria quickly cheaply and reliably, this could be used around the world by billions of people and start saving lives immediately. Then, while saving lives from Malaria, it could also be learning about everything else found in blood at the same time. </p>
<p>Patients could volunteer information to the system to add labels to their blood images. Simple things could be included like height, weight, race, and location. Lifestyle questions that affect health could be included: Do you smoke, do you drink, do you eat broccoli, etc. </p>
<p>And of course those who are willing, could also share if they have been diagnosed with various ailments by doctors already: High blood pressure, heart disease, lung cancer, HIV, etc. </p>
<p>Anything about the patient could be added to label those specific images. The system would associate the unique patterns in those images with those labels.</p>
<h3 id="Diagnosing-Everything"><a href="#Diagnosing-Everything" class="headerlink" title="Diagnosing Everything"></a>Diagnosing Everything</h3><p>This is how the machine learns to diagnose. When it sees this pattern again in a new image, it can add the associated labels and score it with a % match. These results could be sent to a human doctor to verify, but quickly it would surpass the ability of human diagnosticians.</p>
<p>It will even find patterns that experts have never recognized before. Just like these systems for diagnosing lung cancer or sepsis:</p>
<h4 id="Diagnosing-Cancer-with-Machine-Learning"><a href="#Diagnosing-Cancer-with-Machine-Learning" class="headerlink" title="Diagnosing Cancer with Machine Learning"></a>Diagnosing Cancer with Machine Learning</h4><div class="video-container"><iframe src="//www.youtube.com/embed/aLSzh_tqwxw" frameborder="0" allowfullscreen></iframe></div>
<h4 id="Prevent-Sepsis-Using-EKG-with-Machine-Learning"><a href="#Prevent-Sepsis-Using-EKG-with-Machine-Learning" class="headerlink" title="Prevent Sepsis Using EKG with Machine Learning"></a>Prevent Sepsis Using EKG with Machine Learning</h4><div class="video-container"><iframe src="//www.youtube.com/embed/Nj2YSLPn6OY" frameborder="0" allowfullscreen></iframe></div>
<h3 id="Beyond-Diagnostics"><a href="#Beyond-Diagnostics" class="headerlink" title="Beyond Diagnostics"></a>Beyond Diagnostics</h3><p>The system is not restricted to learning to diagnose. It can also learn complex patterns between blood images and medicine.</p>
<p>Another words, it can learn what medicine or treatment works best in specific situations.</p>
<p>For example, if every person with malaria has a specific pattern in images of blood cell, whenever this reliable pattern is seen again, the machine can report that the blood image has a 97% correlation with malaria. But at the same time it can find other correlations: maybe the person has malaria, HIV, high blood pressure, and an infection that could easily spread quickly. This combination of ailments is a recipe that could quickly lead to death. Perhaps the typical medicine that is used for malaria needs to adjusted because of the weak immune system. </p>
<p>Someone with HIV and malaria could respond differently than a patient with high blood pressure for example. </p>
<p>This is where the diagnostic machine becomes a prescriptive expert. If a patient enters the medicine they are taking and continues to supply additional blood images, the machine can literally see the effect of different medicines in the blood. In fact, it could even learn to recognize the unique patterns that indicate the presence of specific medicine in the blood.</p>
<p>The patient can also enter additional information like whether they are feeling better or worse; whether they are gaining weight, or losing it; whether they are back to normal life or laying in their death bed. </p>
<p>So as the medicine has it’s effect, it can be correlated with a success or failure for the treated ailment. But at the same time it is also correlating the information with everything else it knows about the patient. After millions of patients, it can quickly learn complex pattern and prescribe the best treatment for each person. For example, overweight patients with high blood pressure and heart disease may respond better to a specific medication with less side effects. On the other hand, an athletic person with HIV might need an entirely different medicine for the maximum success rate.</p>
<h3 id="Revolutionary-and-Should-Exist-Today"><a href="#Revolutionary-and-Should-Exist-Today" class="headerlink" title="Revolutionary and Should Exist Today"></a>Revolutionary and Should Exist Today</h3><p>This technology is revolutionary. It is possible. It can exist today and it should exist today. All we need to do is make it and keep making it cheaper and better and more accurate. </p>
<p>I imagine after five years this system could completely change everything about life expectancy especially in the majority of the world where lab technicians are over worked and treatment is done without accurate diagnostics. </p>
<h3 id="Public-Domain-Idea"><a href="#Public-Domain-Idea" class="headerlink" title="Public Domain Idea"></a>Public Domain Idea</h3><p>This idea belongs to humanity, for the good of all, for the honor of our Creator - that we may show our love to one another.</p>
<p>Another words, I am posting this idea publicly to prevent any patents. This is not an invention that should be patented. This is an idea that should be available to everyone. Let the free market make as many versions as possible as cheaply as possible and available to all.</p>
<p>This idea covers as broad a mechanism as possible to declare any usage as free from patent:</p>
<ul>
<li>Using any driving mechanism (i.e. motors, springs, gears, etc.)</li>
<li>To move any digital camera (i.e. smart phone, micro camera, etc.)</li>
<li>Over any body fluid sample (i.e. blood, urine, saliva, etc.)</li>
<li>Prepared with any technique (i.e. slide, smear, capillary, centrifuged, etc.)</li>
<li>Along any direction (i.e. 3D pathways, 2D pathways, etc.)</li>
<li>With any transformations (i.e. focal length, light source, etc.)   </li>
<li>For any metric (i.e. blood count, disease prognosis, infection prognosis, etc.)</li>
<li>Analyzed with any software (i.e. neural network, genetic algorithms, etc.)</li>
<li>To generate any recommendation (i.e. medicine prescriptions, treatment schedule, etc.)</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/26/2017-04-26 Automated Blood Scanner/" data-id="cj1z5ssob000688nsdqej4y8m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-04-25 Azure Mobile Center" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/25/2017-04-25 Azure Mobile Center/" class="article-date">
  <time datetime="2017-04-25T05:00:00.000Z" itemprop="datePublished">2017-04-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/25/2017-04-25 Azure Mobile Center/">Azure Mobile Center</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>After watching a YouTube video about ReactXP, I was reading about it in my phone and this video from React Conference auto played. It didn’t have an interesting title, so I was about to turn it off, when I noticed it was big enough to be given it’s own subdomain at Azure. </p>
<p>Now, Microsoft is the king at making great dev tools, so I thought I should pay attention if this is their primary offering for mobile development on Azure.</p>
<p>It’s awesome:</p>
<ul>
<li>First Class Support for React Native</li>
<li>Analytics, Events, and Crash Reports that give stack traces in the original source code (using source maps)</li>
<li>Code Push that is triggered by git deploy (Deploy changes directly to an installed app from the git release branch)</li>
</ul>
<p>The video also showed some prototypes of some interesting testing tools. For example, he had the app open in multiple test devices and the UI events triggered on one device were synced to another device across the network (parallel testing).</p>
<p>I recommend watching the video and seeing the cool.</p>
<h3 id="Videos"><a href="#Videos" class="headerlink" title="Videos"></a>Videos</h3><h4 id="Presentation-at-React-Conf-2017"><a href="#Presentation-at-React-Conf-2017" class="headerlink" title="Presentation at React Conf 2017"></a>Presentation at React Conf 2017</h4><div class="video-container"><iframe src="//www.youtube.com/embed/iMLpUVZseEg" frameborder="0" allowfullscreen></iframe></div>
<h4 id="CodePush"><a href="#CodePush" class="headerlink" title="CodePush"></a>CodePush</h4><div class="video-container"><iframe src="//www.youtube.com/embed/lfqZ8Uy2p3U" frameborder="0" allowfullscreen></iframe></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/25/2017-04-25 Azure Mobile Center/" data-id="cj1z5sso8000588ns6wtvgk2m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-04-24 ReactXP" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/24/2017-04-24 ReactXP/" class="article-date">
  <time datetime="2017-04-24T05:00:00.000Z" itemprop="datePublished">2017-04-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/24/2017-04-24 ReactXP/">ReactXP</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Finally, I found what I have been looking for years and experimented with creating multiple times:</p>
<p>A way to develop native and web apps with the same code base (even the view layer).</p>
<p>Let me be specific, I’m not talking about hybrid apps. Of course it’s been possible to use Cordova and make a hybrid web app for many years, but the performance was not acceptable.</p>
<p>We need native speed which means using native UI Components on the UI thread not blocked by the runtime or single thread of JavaScript. </p>
<p>In the past few years, two major solutions have come out: React Native and Native Script.</p>
<p>However, although these both provide a good solution for native speed mobile apps using JavaScript code, they don’t have a unified UI with the web browser.</p>
<p>So view layer was still not cross platform and using them while trying to share a code base with the web was not easy.</p>
<p>Leave it to Microsoft to solve it. They did. The Skype team needed the same thing I wanted: a single code base across all devices including the browser.</p>
<p>So they made ReactXP. It is a library built on top of React and React Native that unifies the view layer using standard components.</p>
<p>Now it is possible to define the view layer once and know it will look the same across all devices and browsers.</p>
<p>Also, because it is built on top of React Native, dropping down to platform specific code is possible when needed. So that’s great when you want to expand your base web experience with extra device features in the app.</p>
<p>As a bonus, because this is built by Microsoft who created Typescript, Typescript is fully supported without having to figure it out as you go. (They also support Flow as an alternative.) But if you have used Typescript and know some of the great advantages of using cutting edge JavaScript with type safety and documentation, you know it’s awesome.</p>
<p>So this is finally the solution I have been waiting for: </p>
<ul>
<li>One UI to rule them all, </li>
<li>One code to define them, </li>
<li>One build to make them all,</li>
<li>And in the stores deploy them.</li>
</ul>
<p>Or just use the web app if you don’t want to install, etc.</p>
<h3 id="Videos"><a href="#Videos" class="headerlink" title="Videos"></a>Videos</h3><h4 id="ReactXP-First-Look"><a href="#ReactXP-First-Look" class="headerlink" title="ReactXP First Look"></a>ReactXP First Look</h4><div class="video-container"><iframe src="//www.youtube.com/embed/ZcUrPQqKsjY" frameborder="0" allowfullscreen></iframe></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/2017-04-24 ReactXP/" data-id="cj1z5sso5000488nstmevuy3a" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2017-04-18 GraphQL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/18/2017-04-18 GraphQL/" class="article-date">
  <time datetime="2017-04-18T05:00:00.000Z" itemprop="datePublished">2017-04-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/18/2017-04-18 GraphQL/">GraphQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://graphql.org/" target="_blank" rel="external">http://graphql.org/</a></p>
<p>GraphQL brings the power of the data query all the way down to the component level.</p>
<p>Most data access requires multiple repetitve layers that slightly transform data:</p>
<ul>
<li>Storage (Sql or NoSql Data Store)</li>
<li>Server (Rest or Ad-hoc Web Api)</li>
<li>Client Side Http Requests (Ajax, RxJS, etc.)</li>
<li>Client State (Angular Services, React Redux, React Mobx, etc.)</li>
<li>Components</li>
</ul>
<p>In the above architecture, a query about a single object must be implemented at each level. Also, common patterns like filtering and paging must be handled at each level as well. </p>
<p>To make a change on the UI that requires additional data about an object, each layer must be modified to provide that additional data. Not only is this tedius work, it also affects the entire code base and could easily introduce bugs requiring testing at each level.</p>
<h3 id="GraphQL-Solves-Client-Data-Access"><a href="#GraphQL-Solves-Client-Data-Access" class="headerlink" title="GraphQL Solves Client Data Access"></a>GraphQL Solves Client Data Access</h3><p>GraphQL solves that problem by allowing the client to define the structure of the query. And even better, each component can define it’s own data needs.</p>
<ul>
<li>Component Data Query</li>
<li>Component</li>
</ul>
<h3 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h3><p>Here is a sample using React-Apollo (ES6):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">TodoApp</span>(<span class="params">&#123; data: &#123; todos, refetch &#125; &#125;</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;button onClick=&#123;() =&gt; refetch()&#125;&gt;</div><div class="line">        Refresh</div><div class="line">      &lt;/button&gt;</div><div class="line">      &lt;ul&gt;</div><div class="line">        &#123;todos.map(todo =&gt; (</div><div class="line">          &lt;li key=&#123;todo.id&#125;&gt;</div><div class="line">            &#123;todo.text&#125;</div><div class="line">          &lt;/li&gt;</div><div class="line">        ))&#125;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  );</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> graphql(gql<span class="string">`</span></div><div class="line">  query TodoAppQuery &#123;</div><div class="line">    todos &#123;</div><div class="line">      id</div><div class="line">      text</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">`)(TodoApp);</div></pre></td></tr></table></figure>
<p>The actual GraphQL Query is here:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">query TodoAppQuery &#123;</div><div class="line">    todos &#123;</div><div class="line">        id</div><div class="line">        text</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>In this example, the query is requesting <em>todos</em> with the <em>id</em> and <em>text</em> of each.</p>
<p>Whenever, it is time to display this component, that query is automatically requested and then injected into the React component’s data object.</p>
<p>Without getting into the details of how that works, whenever something triggers the UI view to change, all the new queries will be combined together into a main query that is then sent to the server endpoint. </p>
<p>What is even better, most client side implementations automatically cache the requests and any data already availabe in the cache will not be requested from the server a second time (of course this can be controlled in case a fresh copy is needed).</p>
<h3 id="So-How-Does-the-Server-Provide-the-Data"><a href="#So-How-Does-the-Server-Provide-the-Data" class="headerlink" title="So How Does the Server Provide the Data?"></a>So How Does the Server Provide the Data?</h3><p>On the server side, the server has a single GraphQL endpoint that will receive all requests. It is the responsibility of the server to parse the request and give only the requested data back to the client.</p>
<p>Of course, the standard libraries handle the parsing and the developer has only one requirement:</p>
<p>Resolve the data request for each data type:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> resolverMap = &#123;</div><div class="line">  <span class="attr">Query</span>: &#123;</div><div class="line">    author(obj, args, context, info) &#123;</div><div class="line">      <span class="keyword">return</span> getAuthorById(args.id);</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">Author</span>: &#123;</div><div class="line">    posts(author) &#123;</div><div class="line">      <span class="keyword">return</span> getPostsByAuthorId(author.id);</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>The advantage of this, is that the developer can focus on a single data type at once without worrying about nested types or deciding how deeply nested the response data needs to be.</p>
<p>In the example above, each has a specific purpose: return a single author or return the posts that belong to an author:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">getAuthorById(args.id)</div><div class="line">...</div><div class="line">getPostsByAuthorId(author.id)</div><div class="line">...</div></pre></td></tr></table></figure>
<p>The <em>getAuthorById</em> doesn’t have to worry about whether to return posts or what data about the nested posts might be needed by the client. It just returns the author data only. Likewise, the <em>getPostsByAuthorId</em> has a very clean purpose and doesn’t have to worry about nested objects.</p>
<p>By returning on the object and the entire object, the framework can automatically prune unnecessary data and combine the multiple objects into the requested object graph which was requested by the client.</p>
<p>Also, the GraphQL libraries support Promises and so those resolver methods can use async/await and have a very clean implementation.</p>
<p>The end result, is that the GraphQL library will wait for all the promises, combine all the data, prune extra data, and return exactly what was requested in a single network response.</p>
<h3 id="So-How-Does-the-Client-Change-the-Data"><a href="#So-How-Does-the-Client-Change-the-Data" class="headerlink" title="So How Does the Client Change the Data?"></a>So How Does the Client Change the Data?</h3><p>Another cool part of GraphQL is how data changes. In GraphQL, a data change is called a mutation. </p>
<p>The nice thing about a mutation is that it supports Optimistic UI. This means that the ui data is modified locally on the client while being processed on the server. This allows the UI to update with a preview of the data change while waiting for the server response. Then when the server sends the actual response, it can replace the temporary optimistic data. This is one of the benefits of a mutation compared to a simple Rest Post.</p>
<p>On the server side these mutations must be implemented in the same way as the resolvers:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> resolverMap = &#123;</div><div class="line">...</div><div class="line">  Mutation: &#123;</div><div class="line">    addAuthor(_, &#123; firstName, lastName &#125;) &#123;</div><div class="line">      ...</div><div class="line">      return author;</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">...</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>The differences with a resolve query are easily seen below:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">Query: &#123;</div><div class="line">    <span class="comment">// Get an author (args contains the author id)</span></div><div class="line">    author(obj, <span class="attr">args</span>: &#123; id &#125;, context, info)...</div><div class="line"></div><div class="line">...</div><div class="line">Mutation: &#123;</div><div class="line">    <span class="comment">// Create an author (args )</span></div><div class="line">    addAuthor(_, <span class="attr">args</span>: &#123; firstName, lastName &#125;)...</div></pre></td></tr></table></figure>
<p>Really, the only difference is the Query and Mutation keyword. They both use the 2nd parameter as the args and use those args to either get data or modify it.</p>
<h3 id="This-Looks-Cool-Too-Bad-I-Can’t-Use-it"><a href="#This-Looks-Cool-Too-Bad-I-Can’t-Use-it" class="headerlink" title="This Looks Cool, Too Bad I Can’t Use it"></a>This Looks Cool, Too Bad I Can’t Use it</h3><p>That’s where it get’s interesting. It is possible to use the parser on the client side and basically wrap a Rest Api with a GraphQL schema which you can use in your client side code.</p>
<p>Then, the next step is to move this to the server and slowly replace the REST calls with direct calls to the necessary resources.</p>
<p>This provides an adoption path where it can be used in client side web apps today.</p>
<p>This video gives a good overview of that process:</p>
<p><a href="https://www.youtube.com/watch?v=UBGzsb2UkeY" target="_blank" rel="external">https://www.youtube.com/watch?v=UBGzsb2UkeY</a></p>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><p>I found two implementations of the GraphQL:</p>
<ul>
<li>Relay (By Facebook and Designed for React)<ul>
<li><a href="https://facebook.github.io/relay/" target="_blank" rel="external">https://facebook.github.io/relay/</a></li>
</ul>
</li>
<li>Apollo (Better Design, Open Source Community, and works with Angular2 in addition to React)<ul>
<li><a href="http://dev.apollodata.com/" target="_blank" rel="external">http://dev.apollodata.com/</a></li>
</ul>
</li>
</ul>
<p>I also found a VSCode extension that provides all the cool editor features we love:</p>
<ul>
<li>Github: kumarharsh/graphql-for-vscode <ul>
<li><a href="https://github.com/kumarharsh/graphql-for-vscode" target="_blank" rel="external">https://github.com/kumarharsh/graphql-for-vscode</a></li>
</ul>
</li>
</ul>
<h4 id="Zero-to-GraphQL-in-30-Minutes"><a href="#Zero-to-GraphQL-in-30-Minutes" class="headerlink" title="Zero to GraphQL in 30 Minutes"></a>Zero to GraphQL in 30 Minutes</h4><div class="video-container"><iframe src="//www.youtube.com/embed/UBGzsb2UkeY" frameborder="0" allowfullscreen></iframe></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/18/2017-04-18 GraphQL/" data-id="cj1z5sso2000388ns18lszbhn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2014-02-04 Feature-Oriented Software Development and Feature-Organized Code" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/02/04/2014-02-04 Feature-Oriented Software Development and Feature-Organized Code/" class="article-date">
  <time datetime="2014-02-04T06:00:00.000Z" itemprop="datePublished">2014-02-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/02/04/2014-02-04 Feature-Oriented Software Development and Feature-Organized Code/">Feature-Oriented Software Development and Feature-Organized Code</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Software development is all about the apps. If you don’t have a user interface, then your software is pointless. There must be a way for somebody to work with your software to accomplish what they want to do. These are the features: what your app can actually do. Really, an app is nothing more than a collection of features. The best apps have few features that are closely related and are exceptional in quality.</p>
<p>Therefore, <em>software development should focus on developing features.</em></p>
<p>All too often, we developers focus on the code, “Look how cool that code is.” Users don’t care. They want a cool feature that works – that is all. They don’t care about your hard work. If you don’t give them exceptional features, they will trash your app (1-star) and nobody will ever touch it again. </p>
<p>We must focus on the features. We must make exceptional features that shine. That is the entire purpose of software development. In fact, maybe we should just drop that term and call ourselves “feature developers”. Software is pointless unless it contributes towards exceptional features.</p>
<h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>We developers are overly focused on our code. Look at the OOP (Object Oriented Programming) paradigm for example. It’s main concern is how you design your class hierarchy. </p>
<p>That has little to do with a feature. So we have Use Cases where we try to figure out every possible way an object might be used. That is getting closer to the features, but it is putting the developer’s concern (class design) ahead of the user’s concern (features).</p>
<p>OOP solves many problems, but it also introduces a way of thinking that produces unnecessary complexity. A developer has the impression that he must design perfectly defined types that can handle all possible scenarios before programming can begin.This results in the common tendency of unexperienced programmers of trying to solve “world hunger” with every project. Many times he doesn’t even remember what feature he is trying to implement.</p>
<p>However, even a developer with an idea of the desired features can face a complex project. At the beginning of a project, each class is well defined and exists in a small easy to read and understand file. However, each new feature introduces changes that can span multiple class files. Over time, these files grow bloated with unrelated code. Even more, as multiple developers modify those files for their own needs, they can contain multiple styles and design patterns that make the code for that class very difficult to understand. Feature dependencies can be strung throughout the code base. “You can’t change that because it will break this. Oh and users have become used to that bug so don’t fix it.” </p>
<p>The entire project becomes a dark and dangerous place where you might violate some unwritten law by changing something you weren’t supposed to change. Then, you make yourself an enemy of the whole team who has to waste hours trying to trace down all the unexpected bugs caused by your change. As stress builds, the team becomes more concerned with who to blame rather than developing good software together. Obviously, this does not contribute to a positive development team.</p>
<p>My observation is that the end result of traditional OOP is an exponential growth in the cost of adding each new feature to a project.</p>
<p>Software development should not be object-oriented. In fact it should not be oriented to anything to do with the code itself. Software development should be feature-oriented. Developers should always have in mind what feature they are contributing towards. </p>
<p>With the big picture of the target feature in mind, then a developer can use whatever code most simply implements that target feature.</p>
<p>(Keep in mind that there are “system features” which provide the foundation on which the “user features” are built.)</p>
<h3 id="Thinking-Differently-about-Code-Organization"><a href="#Thinking-Differently-about-Code-Organization" class="headerlink" title="Thinking Differently about Code Organization"></a>Thinking Differently about Code Organization</h3><p>My experience with C# and it’s changes over the years eventually led me to a different way of organizing my code. </p>
<p>The introduction of partial classes to C# initially allowed a simple way to separate designer generated code from human code.</p>
<p>Then later, extension methods allowed me, being used to strictly defined traditional OOP types, to start thinking about types that could be extended at a later time.</p>
<p>Then, my exposure to javascript with its purely dynamic types made me realize even more possibilities about objects and type definitions and how they could be extended even at runtime as needed. </p>
<p>In the end, these experiences led me to organize my code differently than I had been taught or had ever done before. In my latest project, I unintentionally organized my code in what I will call feature-organized.</p>
<h3 id="Towards-Feature-Organized-Code"><a href="#Towards-Feature-Organized-Code" class="headerlink" title="Towards Feature-Organized Code"></a>Towards Feature-Organized Code</h3><p>As I was working on this project, I wanted a clean working space so that I could focus solely on a single feature at a time. Therefore, each time I started implementing a new feature, I added a new file to the project and kept all the code related to that feature in that file.</p>
<p>However, I was still working with the same set of objects and their classes. Still, I wanted to keep all the additions to the classes near to the features that needed to use those additions. For example, when I needed to add another property to a class, I wanted that property to be defined right there in the same file with the logic that used that property, instead of going to the file where the class was originally defined. </p>
<p>This was simple to do because of partial classes in C#. I was able to continue the definition of any classes in that feature file. I added whatever properties or methods needed to exist for that feature to work. Also included were classes that only had meaning for that specific feature and any processing for it.</p>
<p>This would have been possible in<br>many languages, not just C#. It would be simple to implement in any language that has a mechanism to allow open type definitions that span multiple files or any language that supports dynamic types. (It is also possible in languages with closed type definitions, but not as simple.)</p>
<h3 id="What-is-Feature-Organized-Code"><a href="#What-is-Feature-Organized-Code" class="headerlink" title="What is Feature-Organized Code?"></a>What is Feature-Organized Code?</h3><p>Feature-organized code is code that keeps all properties, methods, and any logic related to a single feature in the same place. </p>
<p>The source files are grouped together by features rather than by class definitions.</p>
<p>Instead of having everything about a  class exist in its own file, the parts of the class are defined where they are needed. </p>
<p>Obviously, balance is needed. A good balance is to define the primary set of classes in the “core feature”. These core definitions would basically represent the data of each class by implementing a constructor to create the object and fields or properties to hold the data for that object. Then in the feature files, these core definitions can be extended with calculated properties and methods needed for that feature.</p>
<p>The core feature is concerned about the construction of objects. Other features are concerned about using those objects. </p>
<p>The code to implement each feature could be organized as a single file or a collection of closely related files:</p>
<ul>
<li>One file (Simple Features that require only a few types)</li>
<li>Multiple files with a similar name prefix (In a project with a small number of features)</li>
<li>A sub folder (In a medium project with complex features that only work when many objects coordinate)</li>
<li>A sub folder for each app layer with similar naming (In a large project that includes multiple layers that each exist in their own projects: i.e. a Data Access Layer, Business Logic Layer, Application Layer, Unit Testing, etc.)</li>
</ul>
<h3 id="Advantages-of-Feature-Organized-Code"><a href="#Advantages-of-Feature-Organized-Code" class="headerlink" title="Advantages of Feature-Organized Code"></a>Advantages of Feature-Organized Code</h3><ul>
<li>Singular Focus</li>
</ul>
<p>The developer sees only code that is relevant to a single feature in each file. He can focus entirely on that one feature without thinking about the concerns of other features. </p>
<ul>
<li>Predictable Locating of Feature Code</li>
</ul>
<p>Each feature has its own specific place among the many files of the project. Everything about that feature’s implementation can be found in those files.</p>
<ul>
<li>Clear Dependencies</li>
</ul>
<p>Every class and the properties and methods that are needed to implement a feature are all together in the same place. This provides a complete picture of all dependencies required for that feature.</p>
<p>Also, if a feature depends on another feature, that can be clearly indicated in a comment at the top of the file. I refer to these as parent and child features.</p>
<ul>
<li>Isolation of Features</li>
</ul>
<p>The implementation of each feature is isolated from other unrelated features. In many cases, it is even possible to remove an entire feature and all the changes it introduces to the class hierarchy simply by removing those files from the project. This can be done without affecting any other features (except it’s child features).</p>
<ul>
<li>Rapid Orientation</li>
</ul>
<p>Since all code for a single feature is together, a developer can quickly orient himself with the entire scope of a feature. There is no need for him to comprehend the entire class hierarchy of the entire project. He must only understand the properties and methods currently being used by that single feature. This is simple because their definition is right there with the code that uses them. He has no need to dig through multiple files of class definitions looking for the various properties and methods of concern, being distracted and overwhelmed by everything not currently relevant. </p>
<p>In addition, if each layer of the application is organized in a similar fashion he can quickly locate the business logic and data access relevant to that feature. In fact, if the data access layer is segmented in the same way, then he can also see what tables, columns, and other db objects are relevant to that feature.</p>
<p>In this way, a developer can quickly get a full picture of everything relevant to that feature from the database all the way to the user interface. </p>
<p>This is the key to development that does not scale up in cost as the project grows. Whether the project has 5 classes or 1,000, the developer can learn everything relevant by simply looking at the feature files. He doesn’t even need an IDE to help him randomly browse through the code, jumping to definitions that are scattered across thousands of files. He can simply read the files of that single feature to get a complete picture of it.</p>
<ul>
<li>Isolated Development</li>
</ul>
<p>One possibility that this provides is isolated development of features. Because all code for a feature must be in a certain location, developers can easily work on different features without conflicting with one another. Developers can make changes independently and quickly without worrying about who else might be affected by their work. Also, if a change is required beyond the current feature (like in a parent feature), they can communicate those needed changes to a senior developer who can then coordinate how to proceed.</p>
<ul>
<li>Secure and Simple Outsourcing</li>
</ul>
<p>For large projects, a sub project can be created which includes only a copy of the necessary features (the target feature and it’s parent features).</p>
<p>This sub project would greatly improve the performance of the outsourcer because it presents him with only the relevant code. This reduces the likelihood that he will make changes in the wrong location or be overwhelmed by the complexity of a large project.</p>
<p>It also improves security because the entire source code is no longer being passed on to a partially trusted party, nor is it necessary to allow him access to the team’s source control or other servers. This can be very important for large closed-source projects that have sensitive code.</p>
<p>Also, the outsourcer can send his changes in just by zipping up the subfolder for the target feature. This outside code can then be code reviewed just by reading that small group of files without even needing an IDE. (This could even be done on a smart phone through email where the developer in charge of the outsourcing can quickly provide feedback to the outsourcer.)</p>
<p>When the outsourced code reaches an acceptable point, it can easily be merged back into the main project simply by copying those files (likely into an isolated branch in source control). All affected files would be in one location and could easily be code reviewed and tested before being accepted into the main project.</p>
<p>If this were a common scenario, it would even be possible to make some build tools that automate the process of creating these isolated sub projects for a single feature. The build tool would need only a list of features (the target feature and its parent features). Then it could simply include those folders and produce a new project file with references to only those items.</p>
<p>This may even be the preferred means of development for the entire development team. It would greatly improve build times for large projects and would boost developer productivity by allowing them more freedom of control over their development environment. (They could work from home on their own machine for example.) This also introduces great training possibilities for new developers that would help them ease into familiarity with the main project without being overwhelmed by its large scope.</p>
<ul>
<li>No Ownership of Code</li>
</ul>
<p>Because every feature is isolated and relatively small in comparison to the entire project, it also remains as simple as possible. </p>
<p>This prevents ownership concerns in the development team. Each developer works on a feature until it reaches maturity, then he moves onto another feature. Another developer may revisit that feature at a later point to improve it. Because of rapid orientation, any of the developers should be able to work with any feature. There are no hidden dependencies that will remain the secret of the “owner” of that code. Everything relevant and every dependency is contained in one small set of files.</p>
<ul>
<li>High Quality Features</li>
</ul>
<p>It can be simple to ensure that each feature contains every component that ensures high quality: Documentation, conformance to code conventions, unit tests, code coverage, code contracts, a polished user interface to that feature, etc.</p>
<p>A feature would not be considered mature until it reaches the highest standards of your application. It can easily be excluded from release until it can meet those standards. </p>
<p>This compels the development team to complete fewer high quality features instead of many mediocre features. </p>
<p>This brings us back to feature-orientation. Again, an app is nothing more than a collection of features. This focus on high quality features produces apps that users enjoy and will outshine their competitors.</p>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Feature-organization of code is a key to promoting a feature-oriented paradigm for software development.</p>
<p>I will be using this concept in my own development and will later come back with some practical tips on how best to implement feature-organization.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/02/04/2014-02-04 Feature-Oriented Software Development and Feature-Organized Code/" data-id="cj1z5ssny000288ns8xa30fbk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/04/26/2017-04-26 Automated Blood Scanner/">Automated Blood Scanner</a>
          </li>
        
          <li>
            <a href="/2017/04/25/2017-04-25 Azure Mobile Center/">Azure Mobile Center</a>
          </li>
        
          <li>
            <a href="/2017/04/24/2017-04-24 ReactXP/">ReactXP</a>
          </li>
        
          <li>
            <a href="/2017/04/18/2017-04-18 GraphQL/">GraphQL</a>
          </li>
        
          <li>
            <a href="/2014/02/04/2014-02-04 Feature-Oriented Software Development and Feature-Organized Code/">Feature-Oriented Software Development and Feature-Organized Code</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Rick Love<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>